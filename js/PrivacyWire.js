!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function t(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),s=0;s<n.length;s++){for(var i=n[s];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3);var i="expires="+s.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".privacywire{position:fixed;bottom:-250%;left:0;right:0;box-shadow:0 -1px 3px rgba(0,0,0,.3);opacity:0;background:#fff;z-index:1;padding:1rem;transition:bottom .3s ease,opacity 1s ease}.privacywire header{font-weight:700}.show-banner .privacywire.privacywire-banner,.show-message .privacywire.privacywire-message,.show-options .privacywire.privacywire-options{bottom:0;opacity:1;transition:bottom .3s ease,opacity .3s ease}.privacywire button[hidden]{display:none}"),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);new(function(){function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.settings=this.sanitizeSettings(e),this.consent={},this.consent.version=0,this.consent.necessary=!0,this.consent.statistics=!1,this.consent.marketing=!1,this.consent.external_media=!1,this.sanitizeCookie(),this.initBanner(),this.updateElements(),this.handleExternalTriggers(),!this.hasValidConsent()&&this.hasNoDNT()&&this.showBanner()}var i,a,r;return i=s,(a=[{key:"sanitizeCookie",value:function(){var e,n,s,i;if(t("privacywire")){var a=JSON.parse(decodeURIComponent(t("privacywire")));this.consent.version=null!==(e=parseInt(a.version))&&void 0!==e?e:0,this.consent.statistics=null!==(n=Boolean(a.statistics))&&void 0!==n&&n,this.consent.marketing=null!==(s=Boolean(a.marketing))&&void 0!==s&&s,this.consent.external_media=null!==(i=Boolean(a.external_media))&&void 0!==i&&i}}},{key:"sanitizeSettings",value:function(e){var t={};return t.dnt=Boolean(parseInt(e.dnt)),t.version=parseInt(e.version),t}},{key:"hasValidConsent",value:function(){return 0!==this.consent.version&&this.consent.version===this.settings.version}},{key:"hasNoDNT",value:function(){return!0!==this.settings.dnt||"1"!==navigator.doNotTrack||(this.consent.necessary=!0,this.consent.statistics=!1,this.consent.marketing=!1,this.consent.external_media=!1,this.savePreferences(!0),!1)}},{key:"initBanner",value:function(){this.banner={},this.banner.wrapper=document.querySelector(".privacywire-wrapper"),this.banner.button_accept_all=this.banner.wrapper.querySelector("button.allow-all"),this.banner.button_accept_necessary=this.banner.wrapper.querySelector("button.allow-necessary"),this.banner.button_choose=this.banner.wrapper.querySelector("button.choose"),this.banner.button_save=this.banner.wrapper.querySelector("button.save"),this.banner.button_toggle=this.banner.wrapper.querySelector("button.toggle"),this.banner.options=this.banner.wrapper.querySelectorAll(".privacywire-options input.optional"),this.banner.options_statistics=this.banner.wrapper.querySelector(".privacywire-options input#statistics"),this.banner.options_external_media=this.banner.wrapper.querySelector(".privacywire-options input#external_media"),this.banner.options_marketing=this.banner.wrapper.querySelector(".privacywire-options input#marketing"),this.banner.toggleToStatus=!0,this.prefillOptionValues(),this.handleButtons()}},{key:"showBanner",value:function(){this.banner.wrapper.classList.add("show-banner")}},{key:"showOptions",value:function(){this.banner.wrapper.classList.remove("show-banner"),this.banner.wrapper.classList.add("show-options")}},{key:"hideBanner",value:function(){this.banner.wrapper.classList.remove("show-banner"),this.banner.wrapper.classList.remove("show-options")}},{key:"showMessage",value:function(){var e=this;this.banner.wrapper.classList.add("show-message"),setTimeout((function(){e.banner.wrapper.classList.remove("show-message")}),1500)}},{key:"prefillOptionValues",value:function(){this.banner.options_statistics.checked=this.consent.statistics,this.banner.options_external_media.checked=this.consent.external_media,this.banner.options_marketing.checked=this.consent.marketing}},{key:"handleButtons",value:function(){var e=this;this.banner.button_accept_all.onclick=function(){e.consent.necessary=!0,e.consent.statistics=!0,e.consent.external_media=!0,e.consent.marketing=!0,e.savePreferences(),e.prefillOptionValues()},this.banner.button_accept_necessary.onclick=function(){e.consent.necessary=!0,e.consent.statistics=!1,e.consent.external_media=!1,e.consent.marketing=!1,e.savePreferences(),e.prefillOptionValues()},this.banner.button_choose.onclick=function(){e.showOptions()},this.banner.button_toggle.onclick=function(){e.banner.options.forEach((function(t){t.checked=e.banner.toggleToStatus})),e.banner.toggleToStatus=!e.banner.toggleToStatus},this.banner.button_save.onclick=function(){e.consent.statistics=e.banner.options_statistics.checked,e.consent.external_media=e.banner.options_external_media.checked,e.consent.marketing=e.banner.options_marketing.checked,e.savePreferences(),e.prefillOptionValues()}}},{key:"savePreferences",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.consent;t.version=this.settings.version,n("privacywire",JSON.stringify(t)),this.hideBanner(),e||this.showMessage(),this.updateElements()}},{key:"updateElements",value:function(){var e=this,t=document.querySelectorAll("[data-category]");0!==t.length&&t.forEach((function(t){var n=t.dataset,s=n.category,i=!1;if(s)for(var a in e.consent)if(a===s&&!0===e.consent[a]){i=!0;break}if(i){for(var r=t.parentElement,o=document.createElement(t.tagName),c=0,l=Object.keys(n);c<l.length;c++){var h=l[c];o.dataset[h]=t.dataset[h]}o.type=n.type,o.innerText=t.innerText,o.text=t.text,o.class=t.class,o.style.cssText=t.style.cssText,o.id=t.id,o.name=t.name,o.defer=t.defer,o.async=t.async,n.src&&(o.src=n.src),r.insertBefore(o,t),r.removeChild(t)}}))}},{key:"handleExternalTriggers",value:function(){var e=this,t=document.querySelectorAll(".privacywire-show-options");t.length&&t.forEach((function(t){t.onclick=function(t){t.preventDefault(),e.showOptions()}}))}}])&&e(i.prototype,a),r&&e(i,r),s}())(PrivacyWireSettings)}();